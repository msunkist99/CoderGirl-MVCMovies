StoriesAndACForMovieRatings
>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<
5/1/2019

NOTE: All these should be implemented using models
NOTE: The model for these stories should have the properities:
Id
MovieName
Rating


I want to be able to create a MovieRating
- When I am on the MovieRating/Index page, I should have a link "Rate A Movie" (id="add-movierating") to /MovieRating/Create
- Given I am on the /MovieRating/Create page, and given I have created at least one movie, there should be a dropdown which includes the name of every movie created
- Given I am on the /MovieRating/Create page, there should be a dropdown with ratings options for 1-5
- Given I am on the /MovieRating/Create and have selected a movie and rating, when I click the button "Rate Movie" I will be redirected to the /MovieRating/Index page

I want to see a list of all MovieRatings
- Given I am on the /MovieRating/Index page, I should see a table with columns "Movie", "Rating"
- Given I am on the /MovieRating/Index page, if a movie has not been rated, it should not appear on the table
- Given I rate a movie once, I should see it appear with the name, rating equal to what I entered
- Given I rate the same movie X times, its name should appear X times with the corresponding rating. 
	Example, if I rate "Star Wars" as a 5, then make another rating for "Star Wars" as a 4, and then another as a "5", I should see Star Wars listed 3 times, twice with a rating of 5 and once with a rating of 4

	
I want to edit a MovieRating
- Given I am on the /MovieRating/Index page, I should see a link "Edit" next to each MovieRating. 
- Given I am on the /MovieRating/Index page and I click a "Edit" link, I am taken to /MovieRating/Edit/{id} (where id is the id for the specific MovieRating)
- Given I am on the /MovieRating/Edit/{id} page, I can select a different rating (but not movie)
- Given I am on the /MovieRating/Edit/{id} page, if I click the "Update Rating" button, I will be redirected to the /MovieRating/Index page where the updated rating should be shown (but not the old)

I want to delete a MovieRating
- Given I am on the /MovieRating/Index page, I should see a link "Delete" next to each MovieRating. 
- Given I am on the /MovieRating/Index page and I click a "Delete" link, the MovieRating should no longer be visible on the /MovieRating/Index page.
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

5/7/2019

I want to see average rating and number of ratings on the /Movie/Index page
- Given I am on the /Movie/Index page, I should see a link "Add New Movie" (id="add-new-movie") 
- Clicking on "Add New Movie" should take me to /Movie/Create
- Given I am on the /Movie/Index page, I should see a table with Columns in this order: "Name", "Director", "Year", "Average Rating", "Number of Ratings" (Edit and Delete links should follow on each row)
- The column values for Director should be formatted as "LastName, FirstName" 
- Each row (<tr id="{movie id}" >) should display the correct information for each movie added. If a movie has not been rated, Average Rating should be 'none'. 

I want to create a rating for a particular movie
- Given I am on the /Movie/Index page, I should see a link "Rate" next to each Movie. 
- Given I am on the /Movie/Index page and I click a "Rate" link, I am taken to /MovieRating/Create/{movieId} (where id is the id for the specific Movie)
- Given I am on /MovieRating/Create/{movieId}, the page should be populated with readonly input for the movie name. I should be able to select a rating.
- When clicking submit on /MovieRating/Create/{id}, I want to redirect to /Movie/Index

I want to create a Director (use model with properties: FirstName, LastName, BirthDate, Nationality)
- Given I am on /Director/Index, I should see a link "Add a Director" (id="add-new-director"). Clicking on this link takes you to /Director/Create
- Given I am on page /Director/Create, I should be able to input values for "First Name", "Last Name", "Birth Date" and "Nationality". 
- Given I am on /Director/Create, there should be a button "Add Director". When I click "Add Director" I should be redirected to /Director/Index
- stretch goal: If no last name is entered, return Create view with validation error message.

I want to view a list of Directors
- Given I am on /Director/Index, I should see a table with columns "Name", "Birth Date", "Nationality"
- Each row (<tr id="{director id}") should be an added director with correct info
- The column values for Director should be formatted as "LastName, FirstName"

When I create a movie, I want to choose a director from a dropdown
- Given I am on /Movie/Create, I want to choose a director from a dropdown
- The dropdown should be populated with each added director (format of Last Name, First)
- The value returned by select should be the id of the director

Stretch Goal: Validate Movie name 
- Given I am on the /Movie/Create page, if I add a movie without entering a name, I will see a validation error message.
- If I get a validation error message, none of the other info I entered should be erased. 

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
5/14/19
https://www.codeproject.com/Articles/710702/ASP-NET-MVC-Server-Side-Validation
I want to validate the Movie model from /Movie/Create
- done - Given I am on the /Movie/Create page, if I click submit without entering a name I should get a validation message "Name must be included"
- done - Given I am on the /Movie/Create page, if I click submit and the year I enter is before 1888 or after the current year I should get a validation message "Not a valid year"

I want to validate the Director model from /Director/Create
- done - Given I am on the /Director/Create page, the input for BirthDate should have type="date"
- done - Given I am on the /Director/Create page, if I click submit without entering a name I should get a validation message "Name must be included"
- done - Given I am on the /Director/Create page, the default value for Nationality should be "unknown"
- done - Given I am on the /Director/Create page, if I click submit and the Nationality has no value, make the value to be "unknown"

This week, do a class diagram to set up implementation of next weeks refactor. Bring to class next week.
- Class diagram for BaseRepository which contains methods common to MovieRepository, DirectorRepository and MovieRatingRepository
- Each method on the BaseRepository should take either an int or a IModel object
- Class diagrams for MovieRepository, DirectorRepository and MovieRatingRepository

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

5/22/2019

Instruction for Inheritance:
By this point you should have 3 different repository classes. Their signature should be very similiar if not nearly identical. Most methods are doing nearly identical work.
This means that these are good candidates for inheritance. 
- Done - Create an interface called IModel. It should contain a property of type int called Id. 
- Done - Have all your models implement the IModel interface
- Create a ModelRepository class. (Recommend first creating an IModelRepository interface to have this implement.)
- The ModelRepository class should have methods for 
	- saving a new IModel (assign it unique id and add to list)
	- getting the list of IModel instances created
	- updating a current IModel object
	- getting a single IModel object by its id
	- deleting a particular IModel object
- Have your Movie, MovieRating and Director Repositories inherit from the ModelRepository class
- Your goal is to move as much common code as possible to the ModelRepository. 
In fact, if done correctly, in the case of the DirectorRepository can be basically an empty class with no methods, fields or properites of its own.
NOTE: This is nothing more than a refactor. That is, the tests from last week have not changed at all (though some new ones for validation will be added), and they should all still pass after your changes.